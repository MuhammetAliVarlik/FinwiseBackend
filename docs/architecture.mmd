graph TD
    %% Nodes
    Client([ðŸ’» Frontend Client])
    
    subgraph "Docker Network"
        API[âš¡ API Gateway]
        Redis[(ðŸ”´ Redis Broker)]
        Worker[ðŸ‘· Celery Worker]
        DB[(ðŸ˜ PostgreSQL)]
        
        subgraph "AI Core"
            Scribe[ðŸ§  Scribe Engine]
            Ollama[ðŸ¦™ Ollama Inference]
        end
    end

    %% Flows
    Client -- "1. POST /forecast" --> API
    API -- "2. Enqueue Task" --> Redis
    API -. "3. Return task_id (202)" .-> Client
    
    Redis -- "4. Consume Task" --> Worker
    Worker -- "5. Req. Prediction" --> Scribe
    Scribe -- "6. Run Inference" --> Ollama
    Ollama -- "7. Return Tokens" --> Scribe
    
    Worker -- "8. Save Result" --> DB
    Client -- "9. Poll Status /tasks/{id}" --> API
    API -- "10. Check Status" --> Redis
    API -- "11. Fetch Result" --> DB